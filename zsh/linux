# Linux-specific configuration
# This file is only sourced on Linux systems

# ------------------------------------------------------------------------------
# Clipboard (xclip/xsel integration - macOS compatibility)
# ------------------------------------------------------------------------------

if command -v xclip &> /dev/null; then
    alias pbcopy='xclip -selection clipboard'
    alias pbpaste='xclip -selection clipboard -o'
elif command -v xsel &> /dev/null; then
    alias pbcopy='xsel --clipboard --input'
    alias pbpaste='xsel --clipboard --output'
elif command -v wl-copy &> /dev/null; then
    # Wayland
    alias pbcopy='wl-copy'
    alias pbpaste='wl-paste'
fi

# ------------------------------------------------------------------------------
# Open command (like macOS 'open')
# ------------------------------------------------------------------------------

if command -v xdg-open &> /dev/null; then
    alias open='xdg-open'
fi

# ------------------------------------------------------------------------------
# System monitoring
# ------------------------------------------------------------------------------

if command -v htop &> /dev/null; then
    alias top='htop'
fi

# ------------------------------------------------------------------------------
# Package management shortcuts
# ------------------------------------------------------------------------------

# Detect package manager and set aliases
if command -v apt &> /dev/null; then
    alias update='sudo apt update && sudo apt upgrade'
    alias install='sudo apt install'
    alias remove='sudo apt remove'
    alias search='apt search'
elif command -v dnf &> /dev/null; then
    alias update='sudo dnf upgrade'
    alias install='sudo dnf install'
    alias remove='sudo dnf remove'
    alias search='dnf search'
elif command -v pacman &> /dev/null; then
    alias update='sudo pacman -Syu'
    alias install='sudo pacman -S'
    alias remove='sudo pacman -R'
    alias search='pacman -Ss'
fi

# ------------------------------------------------------------------------------
# Systemd shortcuts
# ------------------------------------------------------------------------------

if command -v systemctl &> /dev/null; then
    alias sc='systemctl'
    alias scs='systemctl status'
    alias scr='sudo systemctl restart'
    alias sce='sudo systemctl enable'
    alias scd='sudo systemctl disable'
    alias jctl='journalctl -xe'
fi

# ------------------------------------------------------------------------------
# Network
# ------------------------------------------------------------------------------

# Get local IP (Linux version)
alias localip="ip -4 addr show | grep -oP '(?<=inet\s)\d+(\.\d+){3}' | grep -v '127.0.0.1' | head -1"

# ------------------------------------------------------------------------------
# Trash (macOS compatibility - requires trash-cli: pacman -S trash-cli)
# ------------------------------------------------------------------------------

if command -v trash-put &> /dev/null; then
    alias trash='trash-put'
fi
