# Exports - Public environment variables
# Add machine-specific exports to ~/.local/dotfiles/exports.local

# ------------------------------------------------------------------------------
# Editor
# ------------------------------------------------------------------------------

export EDITOR='nvim'
export VISUAL='nvim'

# ------------------------------------------------------------------------------
# Locale
# ------------------------------------------------------------------------------

export LANG='en_US.UTF-8'
export LC_ALL='en_US.UTF-8'

# ------------------------------------------------------------------------------
# History
# ------------------------------------------------------------------------------

export HISTSIZE=50000
export SAVEHIST=50000
export HISTFILE="$HOME/.zsh_history"

# ------------------------------------------------------------------------------
# Less
# ------------------------------------------------------------------------------

export LESS='-R --ignore-case --status-column --long-prompt'
export LESSHISTFILE='-'  # Disable less history file

# ------------------------------------------------------------------------------
# FZF
# ------------------------------------------------------------------------------

export FZF_DEFAULT_OPTS='--height 40% --layout=reverse --border'

if command -v fd &> /dev/null; then
    export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'
    export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
    export FZF_ALT_C_COMMAND='fd --type d --hidden --follow --exclude .git'
fi

# ------------------------------------------------------------------------------
# Man pages
# ------------------------------------------------------------------------------

export MANPAGER='less -R --use-color -Dd+r -Du+b'

# ------------------------------------------------------------------------------
# XDG Base Directories
# ------------------------------------------------------------------------------

export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_STATE_HOME="$HOME/.local/state"

# ------------------------------------------------------------------------------
# GPG
# ------------------------------------------------------------------------------

export GPG_TTY=$(tty)

# ------------------------------------------------------------------------------
# Homebrew (macOS only)
# ------------------------------------------------------------------------------

if [[ "$OSTYPE" == "darwin"* ]]; then
    export HOMEBREW_NO_AUTO_UPDATE=1
fi
